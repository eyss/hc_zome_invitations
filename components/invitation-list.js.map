{"version":3,"file":"invitation-list.js","sourceRoot":"","sources":["../../src/components/invitation-list.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,MAAM,KAAK,CAAC;AAChC,OAAO,EAAE,KAAK,EAAS,MAAM,mBAAmB,CAAC;AAEjD,OAAO,EAAE,cAAc,EAAE,MAAM,iBAAiB,CAAC;AACjD,OAAO,EAAE,mBAAmB,EAAE,MAAM,0BAA0B,CAAC;AAC/D,OAAO,EAAE,cAAc,EAAE,MAAM,6BAA6B,CAAC;AAE7D,OAAO,EAAE,YAAY,EAAE,MAAM,kBAAkB,CAAC;AAChD,OAAO,EAAE,cAAc,EAAE,MAAM,mBAAmB,CAAC;AAEnD,OAAO,EAAE,yBAAyB,EAAE,MAAM,UAAU,CAAC;AAErD,0BAA0B;AAC1B,OAAO,EAAE,IAAI,EAAE,MAAM,qCAAqC,CAAC;AAC3D,OAAO,EAAE,gBAAgB,EAAE,MAAM,kDAAkD,CAAC;AAEpF;;GAEG;AACH,MAAM,OAAO,eAAgB,SAAQ,mBAAmB,CAAC,cAAc,CAAC;IAAxE;;QAiBE,WAAM,GAAG,KAAK,CAAC;IA2DjB,CAAC;IAzDC,KAAK,CAAC,YAAY;QAChB,MAAM,IAAI,CAAC,MAAM,CAAC,yBAAyB,EAAE,CAAC;QAC9C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IACrB,CAAC;IAED,wBAAwB;QACtB,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC,MAAM,KAAK,CAAC;YAC7D,OAAO,IAAI,CAAA;;aAEJ,CAAC;QAEV,OAAO,IAAI,CAAA;;;YAGH,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE;YAC7D,OAAO,IAAI,CAAA;uCACgB,OAAO,CAAC,CAAC,CAAC,CAAC,qBAAqB;sCACjC,CAAC,CAAc,EAAE,EAAE,CACzC,IAAI,CAAC,aAAa,CAChB,IAAI,WAAW,CAAC,sBAAsB,EAAE;gBACtC,MAAM,EAAE,CAAC,CAAC,MAAM;gBAChB,OAAO,EAAE,IAAI;gBACb,QAAQ,EAAE,IAAI;aACf,CAAC,CACH;;+BAEc,CAAC;QACtB,CAAC,CAAC;;;WAGD,CAAC;IACV,CAAC;IAED,MAAM;QACJ,OAAO,IAAI,CAAA;;;;;;YAMH,IAAI,CAAC,MAAM;YACX,CAAC,CAAC,IAAI,CAAC,wBAAwB,EAAE;YACjC,CAAC,CAAC,IAAI,CAAA;;qBAEG;;;KAGhB,CAAC;IACJ,CAAC;IAED,MAAM,KAAK,cAAc;QACvB,OAAO;YACL,UAAU,EAAE,IAAI;YAChB,iBAAiB,EAAE,cAAc;YACjC,uBAAuB,EAAE,gBAAgB;SAC1C,CAAC;IACJ,CAAC;;AAvEM,sBAAM,GAAG;IACd,GAAG,CAAA;;;;;;;KAOF;IACD,YAAY;CACb,CAAC;AAZF;IADC,cAAc,CAAC,yBAAyB,CAAC;+CAChB;AAe1B;IADC,KAAK,EAAE;+CACO","sourcesContent":["import { html, css } from 'lit';\nimport { state, query } from 'lit/decorators.js';\n\nimport { MobxLitElement } from '@adobe/lit-mobx';\nimport { ScopedElementsMixin } from '@open-wc/scoped-elements';\nimport { requestContext } from '@holochain-open-dev/context';\n\nimport { sharedStyles } from '../shared-styles';\nimport { InvitationItem } from './invitation-item';\nimport { InvitationsStore } from '../invitations.store';\nimport { INVITATIONS_STORE_CONTEXT } from '../types';\n\n/**mwc-elements imports */\nimport { Card } from 'scoped-material-components/mwc-card';\nimport { CircularProgress } from 'scoped-material-components/mwc-circular-progress';\n\n/**\n * @element invitation-list\n */\nexport class InvitationsList extends ScopedElementsMixin(MobxLitElement) {\n  @requestContext(INVITATIONS_STORE_CONTEXT)\n  _store!: InvitationsStore;\n\n  static styles = [\n    css`\n      .invitations {\n        padding: 1em;\n        margin: 1em;\n        display: block;\n        overflow-y: auto;\n      }\n    `,\n    sharedStyles,\n  ];\n\n  @state()\n  loaded = false;\n\n  async firstUpdated() {\n    await this._store.fetchMyPendingInvitations();\n    this.loaded = true;\n  }\n\n  renderPendingInvitations() {\n    if (Object.entries(this._store.pendingInvitations).length === 0)\n      return html`<div class=\"column center-content\" style=\"flex: 1;\">\n        <span class=\"placeholder\">There are no pending invitations yet</span>\n      </div>`;\n\n    return html` <div class=\"flex-scrollable-parent\" style=\"flex: 1;\">\n      <div class=\"flex-scrollable-container\">\n        <div class=\"flex-scrollable-y\">\n          ${Object.entries(this._store.pendingInvitations).map(element => {\n            return html`<invitation-item\n              .invitation_entry_hash=${element[1].invitation_entry_hash}\n              @invitation-completed=${(e: CustomEvent) =>\n                this.dispatchEvent(\n                  new CustomEvent('invitation-completed', {\n                    detail: e.detail,\n                    bubbles: true,\n                    composed: true,\n                  })\n                )}\n            >\n            </invitation-item>`;\n          })}\n        </div>\n      </div>\n    </div>`;\n  }\n\n  render() {\n    return html`\n      <mwc-card style=\"flex: 1;\">\n        <div class=\"column\" style=\"margin: 16px; flex: 1;\">\n          <span class=\"title\" style=\"margin-bottom: 8px;\"\n            >Pending Invitations</span\n          >\n          ${this.loaded\n            ? this.renderPendingInvitations()\n            : html`<div class=\"column center-content\" style=\"flex: 1;\">\n                <mwc-circular-progress indeterminate></mwc-circular-progress>\n              </div>`}\n        </div>\n      </mwc-card>\n    `;\n  }\n\n  static get scopedElements() {\n    return {\n      'mwc-card': Card,\n      'invitation-item': InvitationItem,\n      'mwc-circular-progress': CircularProgress,\n    };\n  }\n}\n"]}