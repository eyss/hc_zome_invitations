{"version":3,"file":"invitation-list.js","sourceRoot":"","sources":["../../src/components/invitation-list.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,MAAM,KAAK,CAAC;AAChC,OAAO,EAAE,KAAK,EAAS,MAAM,mBAAmB,CAAC;AAEjD,OAAO,EAAE,cAAc,EAAE,MAAM,iBAAiB,CAAC;AACjD,OAAO,EAAE,kBAAkB,EAAE,MAAM,iCAAiC,CAAC;AACrE,OAAO,EAAE,cAAc,EAAE,MAAM,6BAA6B,CAAC;AAE7D,OAAO,EAAE,YAAY,EAAE,MAAM,kBAAkB,CAAC;AAChD,OAAO,EAAE,cAAc,EAAE,MAAM,mBAAmB,CAAC;AAEnD,OAAO,EAAE,yBAAyB,EAA2B,MAAM,UAAU,CAAC;AAE9E,0BAA0B;AAC1B,OAAO,EAAE,IAAI,EAAE,MAAM,qCAAqC,CAAC;AAC3D,OAAO,EAAE,gBAAgB,EAAE,MAAM,kDAAkD,CAAC;AAGpF;;GAEG;AAEH,MAAM,OAAO,eAAgB,SAAQ,kBAAkB,CAAC,cAAc,CAAC;IAAvE;;QAeE,WAAM,GAAG,KAAK,CAAC;IAgDjB,CAAC;IA9CC,KAAK,CAAC,YAAY;QAChB,MAAM,IAAI,CAAC,MAAM,CAAC,yBAAyB,EAAE,CAAC;QAC9C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IACrB,CAAC;IAED,wBAAwB;QACtB,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,MAAM,KAAK,CAAC;YACtD,OAAO,IAAI,CAAA;;aAEJ,CAAC;QAEV,OAAO,IAAI,CAAA;;;YAGH,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE;YAC5D,OAAO,IAAI,CAAA;uCACsB,OAAO,CAAC,CAAC,CAAC,CAAC,qBAAqB;;+BAExC,CAAC;QAC5B,CAAC,CAAC;;;WAGK,CAAC;IACV,CAAC;IAED,MAAM;QAEJ,OAAO,IAAI,CAAA;;;;YAIH,IAAI,CAAC,MAAM;YACX,CAAC,CAAC,IAAI,CAAC,wBAAwB,EAAE;YACjC,CAAC,CAAC,IAAI,CAAA;;qBAEG;;;KAGhB,CAAC;IACJ,CAAC;;AAnDM,sBAAM,GAAG,CAAC,GAAG,CAAA;;;;;;;GAOnB,EAAE,YAAY,CAAC,CAAC;AA8CV,kCAAkB,GAAG;IAC1B,UAAU,EAAE,IAAI;IAChB,iBAAiB,EAAE,cAAc;IACjC,uBAAuB,EAAE,gBAAgB;CAC1C,CAAC;AA3DF;IADC,cAAc,CAAC,yBAAyB,CAAC;+CAChB;AAY1B;IADC,KAAK,EAAE;+CACO","sourcesContent":["import { html, css } from 'lit';\nimport { state, query } from 'lit/decorators.js';\n\nimport { MobxLitElement } from '@adobe/lit-mobx';\nimport { ScopedRegistryHost } from '@lit-labs/scoped-registry-mixin';\nimport { requestContext } from '@holochain-open-dev/context';\n\nimport { sharedStyles } from '../shared-styles';\nimport { InvitationItem } from './invitation-item';\nimport { InvitationsStore } from '../invitations.store';\nimport { INVITATIONS_STORE_CONTEXT, Dictionary, AgentPubKey } from '../types';\n\n/**mwc-elements imports */\nimport { Card } from 'scoped-material-components/mwc-card';\nimport { CircularProgress } from 'scoped-material-components/mwc-circular-progress';\n\n\n/**\n * @element invitation-list\n */\n\nexport class InvitationsList extends ScopedRegistryHost(MobxLitElement) {\n\n  @requestContext(INVITATIONS_STORE_CONTEXT)\n  _store!: InvitationsStore;\n\n  static styles = [css`\n    .invitations {\n      padding: 1em;\n      margin: 1em;\n      display: block;\n      overflow-y: auto;\n    }\n  `, sharedStyles];\n\n  @state()\n  loaded = false;\n\n  async firstUpdated() {\n    await this._store.fetchMyPendingInvitations();\n    this.loaded = true;\n  }\n\n  renderPendingInvitations() {\n    if (Object.entries(this._store.invitations).length === 0)\n      return html`<div class=\"column center-content\" style=\"flex: 1;\">\n        <span class=\"placeholder\">There are no pending invitations yet</span>\n      </div>`;\n\n    return html` <div class=\"flex-scrollable-parent\" style=\"flex: 1; overflow-x:hidden;\">\n      <div class=\"flex-scrollable-container\"  >\n        <div class=\"flex-scrollable-y\" style=\"flex: 1; overflow-x:hidden;\" >\n          ${Object.entries(this._store.invitations).map(element => {\n      return html`<invitation-item\n              .invitation_entry_hash=${element[1].invitation_entry_hash}\n            >\n            </invitation-item>`;\n    })}\n        </div>\n      </div>\n    </div>`;\n  }\n\n  render() {\n    \n    return html`\n      <mwc-card style=\"flex: 1;\">\n        <div class=\"column\" style=\"margin: 16px; flex: 1;\">\n          <span class=\"title\" style=\"margin-bottom: 8px;\">Pending Invitations</span>\n          ${this.loaded\n            ? this.renderPendingInvitations()\n            : html`<div class=\"column center-content\" style=\"flex: 1;\">\n                <mwc-circular-progress indeterminate></mwc-circular-progress>\n              </div>`}\n        </div>\n      </mwc-card>\n    `;\n  }\n\n  static elementDefinitions = {\n    'mwc-card': Card,\n    'invitation-item': InvitationItem,\n    'mwc-circular-progress': CircularProgress,\n  };\n}"]}