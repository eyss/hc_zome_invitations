{"version":3,"file":"invitation-list.js","sourceRoot":"","sources":["../../src/components/invitation-list.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,GAAG,EAAE,MAAM,KAAK,CAAC;AAC5C,OAAO,EAAE,KAAK,EAAS,MAAM,mBAAmB,CAAC;AAEjD,OAAO,EAAE,mBAAmB,EAAE,MAAM,0BAA0B,CAAC;AAC/D,OAAO,EAAE,eAAe,EAAE,MAAM,mBAAmB,CAAC;AACpD,OAAO,EAAE,eAAe,EAAE,MAAM,mBAAmB,CAAC;AAEpD,0BAA0B;AAC1B,OAAO,EAAE,IAAI,EAAE,gBAAgB,EAAE,MAAM,+BAA+B,CAAC;AAEvE,OAAO,EAAE,YAAY,EAAE,MAAM,kBAAkB,CAAC;AAChD,OAAO,EAAE,cAAc,EAAE,MAAM,mBAAmB,CAAC;AAEnD,OAAO,EAAE,uBAAuB,EAAE,MAAM,YAAY,CAAC;AAErD;;GAEG;AACH,MAAM,OAAO,eAAgB,SAAQ,mBAAmB,CAAC,UAAU,CAAC;IAApE;;QAIE,wBAAmB,GAAG,IAAI,eAAe,CACvC,IAAI,EACJ,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,kBAAkB,CACrC,CAAC;QAeF,WAAM,GAAG,KAAK,CAAC;IA2DjB,CAAC;IAzDC,KAAK,CAAC,YAAY;QAChB,MAAM,IAAI,CAAC,MAAM,CAAC,yBAAyB,EAAE,CAAC;QAC9C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IACrB,CAAC;IAED,wBAAwB;QACtB,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,MAAM,KAAK,CAAC;YAC7D,OAAO,IAAI,CAAA;;aAEJ,CAAC;QAEV,OAAO,IAAI,CAAA;;;YAGH,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE;YAC7D,OAAO,IAAI,CAAA;qCACc,OAAO,CAAC,CAAC,CAAC,CAAC,qBAAqB;sCAC/B,CAAC,CAAc,EAAE,EAAE,CACzC,IAAI,CAAC,aAAa,CAChB,IAAI,WAAW,CAAC,sBAAsB,EAAE;gBACtC,MAAM,EAAE,CAAC,CAAC,MAAM;gBAChB,OAAO,EAAE,IAAI;gBACb,QAAQ,EAAE,IAAI;aACf,CAAC,CACH;;+BAEc,CAAC;QACtB,CAAC,CAAC;;;WAGD,CAAC;IACV,CAAC;IAED,MAAM;QACJ,OAAO,IAAI,CAAA;;;;;;YAMH,IAAI,CAAC,MAAM;YACX,CAAC,CAAC,IAAI,CAAC,wBAAwB,EAAE;YACjC,CAAC,CAAC,IAAI,CAAA;;qBAEG;;;KAGhB,CAAC;IACJ,CAAC;IAED,MAAM,KAAK,cAAc;QACvB,OAAO;YACL,UAAU,EAAE,IAAI;YAChB,iBAAiB,EAAE,cAAc;YACjC,uBAAuB,EAAE,gBAAgB;SAC1C,CAAC;IACJ,CAAC;;AAvEM,sBAAM,GAAG;IACd,GAAG,CAAA;;;;;;;KAOF;IACD,YAAY;CACb,CAAC;AAjBF;IADC,eAAe,CAAC,EAAE,OAAO,EAAE,uBAAuB,EAAE,CAAC;+CAC5B;AAoB1B;IADC,KAAK,EAAE;+CACO","sourcesContent":["import { LitElement, html, css } from 'lit';\nimport { state, query } from 'lit/decorators.js';\n\nimport { ScopedElementsMixin } from '@open-wc/scoped-elements';\nimport { contextProvided } from '@lit-labs/context';\nimport { StoreSubscriber } from 'lit-svelte-stores';\n\n/**mwc-elements imports */\nimport { Card, CircularProgress } from '@scoped-elements/material-web';\n\nimport { sharedStyles } from '../shared-styles';\nimport { InvitationItem } from './invitation-item';\nimport { InvitationsStore } from '../state/invitations-store';\nimport { invitationsStoreContext } from '../context';\n\n/**\n * @element invitation-list\n */\nexport class InvitationsList extends ScopedElementsMixin(LitElement) {\n  @contextProvided({ context: invitationsStoreContext })\n  _store!: InvitationsStore;\n\n  _pendingInvitations = new StoreSubscriber(\n    this,\n    () => this._store.pendingInvitations\n  );\n\n  static styles = [\n    css`\n      .invitations {\n        padding: 1em;\n        margin: 1em;\n        display: block;\n        overflow-y: auto;\n      }\n    `,\n    sharedStyles,\n  ];\n\n  @state()\n  loaded = false;\n\n  async firstUpdated() {\n    await this._store.fetchMyPendingInvitations();\n    this.loaded = true;\n  }\n\n  renderPendingInvitations() {\n    if (Object.entries(this._pendingInvitations.value).length === 0)\n      return html`<div class=\"column center-content\" style=\"flex: 1;\">\n        <span class=\"placeholder\">There are no pending invitations yet</span>\n      </div>`;\n\n    return html` <div class=\"flex-scrollable-parent\" style=\"flex: 1;\">\n      <div class=\"flex-scrollable-container\">\n        <div class=\"flex-scrollable-y\">\n          ${Object.entries(this._pendingInvitations.value).map(element => {\n            return html`<invitation-item\n              .invitationEntryHash=${element[1].invitation_entry_hash}\n              @invitation-completed=${(e: CustomEvent) =>\n                this.dispatchEvent(\n                  new CustomEvent('invitation-completed', {\n                    detail: e.detail,\n                    bubbles: true,\n                    composed: true,\n                  })\n                )}\n            >\n            </invitation-item>`;\n          })}\n        </div>\n      </div>\n    </div>`;\n  }\n\n  render() {\n    return html`\n      <mwc-card style=\"flex: 1;\">\n        <div class=\"column\" style=\"margin: 16px; flex: 1;\">\n          <span class=\"title\" style=\"margin-bottom: 8px;\"\n            >Pending Invitations</span\n          >\n          ${this.loaded\n            ? this.renderPendingInvitations()\n            : html`<div class=\"column center-content\" style=\"flex: 1;\">\n                <mwc-circular-progress indeterminate></mwc-circular-progress>\n              </div>`}\n        </div>\n      </mwc-card>\n    `;\n  }\n\n  static get scopedElements() {\n    return {\n      'mwc-card': Card,\n      'invitation-item': InvitationItem,\n      'mwc-circular-progress': CircularProgress,\n    };\n  }\n}\n"]}